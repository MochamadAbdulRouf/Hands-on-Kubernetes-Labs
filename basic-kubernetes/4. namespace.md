# Namespace in kubernetes?
Namespace adalah sebuah mekanisme di kubernetes untuk membagi satu cluster fisik menjadi beberapa lingkungan virtual yang terisolasi satu sama lain. Setiap lingkungan virtual ini bisa memiliki object (Pod, Deployment, Service) dengan nama yang sama tanpa terjadi konflik

## Kapan menggunakan namespace??
- Ketika resources di kubernetes sudah terlalu banyak
- ketika butuh memisahkan resources untuk multi-tenant, team, atau environment
- Nama resources bisa sama jika berapa di namespace yang berbeda

## Command untuk melihat namespace
1. Contoh 1
```bash
kubectl get namespaces
```
2. Contoh 2
```bash
kubectl get namespace
```
3. Contoh 3
```bash
kubectl get ns
```
## Command untuk melihat pod di namespace
1. Contoh 1
```bash
kubectl get pod --namespace namanamespace
```
2. contoh 2
```bash
kubectl get pod -n namanamespace
```

## Command membuat pod di namespace
1.
```bash
kubectl create -f filePod.yaml --namespace backend-staging
```

## Yang perlu diketahui soal namespace kubernetes
- pod dengan nama yang sama boleh berjalan asalkan di Namespace yang berbeda
- Namespace bukanlah cara untuk mengisolasi resource
- Walaupun berbeda namespace, pod akan tetap bisa saling berkomunikasi dengan pod lain di namespace yang berbeda.

## Command menghapus Namespace

1. Menghapus via nama dari namespace
```bash
kubectl delete namespace backend-staging
```

2. Menghaous via file dari namespace
```bash
kubectl delete -f file-namespace.yaml
```
Menghapus namespace maka akan menghapus semua pods, deployments, services, ConfigMaps, Secrets, Dan Object lain yang ada didalam namespace.Secara permanen tidak bisa di undo

3. Menghapus semua pod di namespace
```bash
kubectl delete pod --all --namespace backend-staging
```
*backend-staging adalah contoh nama dari namespace supaya tidak bingung

## Contoh implementasinya
```bash
laborant@dev-machine:namespace-kub$ kubectl apply -f name-space.yaml 
namespace/backend-staging created
laborant@dev-machine:namespace-kub$ kubectl get ns
NAME              STATUS   AGE
backend-staging   Active   10s
```

```bash
laborant@dev-machine:namespace-kub$ kubectl apply -f file-pod.yaml --namespace backend-staging 
deployment.apps/nginx-deployment created
laborant@dev-machine:namespace-kub$ kubectl get pod -n backend-staging 
NAME                               READY   STATUS              RESTARTS   AGE
nginx-deployment-84fbc7479-f69kz   0/1     ContainerCreating   0          10s
nginx-deployment-84fbc7479-mcs7l   0/1     ContainerCreating   0          10s
laborant@dev-machine:namespace-kub$ kubectl get pod -n backend-staging 
NAME                               READY   STATUS    RESTARTS   AGE
nginx-deployment-84fbc7479-f69kz   1/1     Running   0          22s
nginx-deployment-84fbc7479-mcs7l   1/1     Running   0          22s
laborant@dev-machine:namespace-kub$ 
```

